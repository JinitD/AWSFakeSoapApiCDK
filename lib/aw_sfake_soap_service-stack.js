"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AwSfakeSoapServiceStack = void 0;
const cdk = require("aws-cdk-lib");
const path = require("path");
const lambda = require("aws-cdk-lib/aws-lambda");
const apigw = require("aws-cdk-lib/aws-apigateway");
const aws_lambda_nodejs_1 = require("aws-cdk-lib/aws-lambda-nodejs");
class AwSfakeSoapServiceStack extends cdk.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        const nodejsFunction = new aws_lambda_nodejs_1.NodejsFunction(this, 'NodejsFunction', {
            runtime: lambda.Runtime.NODEJS_18_X,
            handler: 'fakeSoapService',
            entry: path.join(__dirname, 'lambda', 'handler.js')
        });
        //Api gw
        const api = new apigw.RestApi(this, 'api');
        const mainResource = api.root.resourceForPath('fakeSoap');
        // Lambda con apigw
        mainResource.addMethod('POST', new apigw.LambdaIntegration(nodejsFunction));
        mainResource.addMethod('GET', new apigw.LambdaIntegration(nodejsFunction));
    }
}
exports.AwSfakeSoapServiceStack = AwSfakeSoapServiceStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXdfc2Zha2Vfc29hcF9zZXJ2aWNlLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXdfc2Zha2Vfc29hcF9zZXJ2aWNlLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG1DQUFtQztBQUVuQyw2QkFBOEI7QUFDOUIsaURBQWlEO0FBQ2pELG9EQUFvRDtBQUNwRCxxRUFBK0Q7QUFFL0QsTUFBYSx1QkFBd0IsU0FBUSxHQUFHLENBQUMsS0FBSztJQUNwRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXNCO1FBQzlELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLE1BQU0sY0FBYyxHQUFJLElBQUksa0NBQWMsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7WUFDakUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNuQyxPQUFPLEVBQUUsaUJBQWlCO1lBQzFCLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsWUFBWSxDQUFDO1NBQ3BELENBQUMsQ0FBQztRQUVILFFBQVE7UUFDUixNQUFNLEdBQUcsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRTFELG1CQUFtQjtRQUNuQixZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQzVFLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFFN0UsQ0FBQztDQUNGO0FBbkJELDBEQW1CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5pbXBvcnQgKiBhcyBsYW1iZGEgZnJvbSBcImF3cy1jZGstbGliL2F3cy1sYW1iZGFcIjtcbmltcG9ydCAqIGFzIGFwaWd3IGZyb20gXCJhd3MtY2RrLWxpYi9hd3MtYXBpZ2F0ZXdheVwiO1xuaW1wb3J0IHsgTm9kZWpzRnVuY3Rpb24gfSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtbGFtYmRhLW5vZGVqcyc7XG5cbmV4cG9ydCBjbGFzcyBBd1NmYWtlU29hcFNlcnZpY2VTdGFjayBleHRlbmRzIGNkay5TdGFjayB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzPzogY2RrLlN0YWNrUHJvcHMpIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcblxuICAgIGNvbnN0IG5vZGVqc0Z1bmN0aW9uICA9IG5ldyBOb2RlanNGdW5jdGlvbih0aGlzLCAnTm9kZWpzRnVuY3Rpb24nLCB7XG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMThfWCxcbiAgICAgIGhhbmRsZXI6ICdmYWtlU29hcFNlcnZpY2UnLFxuICAgICAgZW50cnk6IHBhdGguam9pbihfX2Rpcm5hbWUsICdsYW1iZGEnLCAnaGFuZGxlci5qcycpXG4gICAgfSk7XG5cbiAgICAvL0FwaSBnd1xuICAgIGNvbnN0IGFwaSA9IG5ldyBhcGlndy5SZXN0QXBpKHRoaXMsICdhcGknKTtcbiAgICBjb25zdCBtYWluUmVzb3VyY2UgPSBhcGkucm9vdC5yZXNvdXJjZUZvclBhdGgoJ2Zha2VTb2FwJyk7XG5cbiAgICAvLyBMYW1iZGEgY29uIGFwaWd3XG4gICAgbWFpblJlc291cmNlLmFkZE1ldGhvZCgnUE9TVCcsIG5ldyBhcGlndy5MYW1iZGFJbnRlZ3JhdGlvbihub2RlanNGdW5jdGlvbikpO1xuICAgIG1haW5SZXNvdXJjZS5hZGRNZXRob2QoJ0dFVCcsIG5ldyBhcGlndy5MYW1iZGFJbnRlZ3JhdGlvbihub2RlanNGdW5jdGlvbikpO1xuICAgIFxuICB9XG59XG4iXX0=